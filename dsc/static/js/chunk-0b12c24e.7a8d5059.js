(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b12c24e"],{"0c88":function(t,s,e){},1293:function(t,s,e){"use strict";e("f2d1")},5123:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box"},[e("page-frame",{attrs:{title:"安全策略",icon:"securityStrategy",aside:!0},scopedSlots:t._u([{key:"aside",fn:function(){return[e("mini-menu",{attrs:{options:t.menuList},model:{value:t.menu,callback:function(s){t.menu=s},expression:"menu"}})]},proxy:!0}])},["passwordPolicy"==t.menu?e("div",{staticClass:"pass showItem"},[e("div",{staticClass:"contentBox"},[e("el-form",{attrs:{size:"small","label-width":"200px","label-position":"left"}},[e("el-form-item",[e("span",{staticStyle:{color:"#228be6","font-size":"16px"},attrs:{slot:"label"},slot:"label"},[t._v(" 密码策略 ")]),e("el-switch",{attrs:{"active-color":"#228be6","inactive-color":"#adb5bd"},model:{value:t.passForm.passStrategy,callback:function(s){t.$set(t.passForm,"passStrategy",s)},expression:"passForm.passStrategy"}})],1),e("el-form-item",{attrs:{label:"密码最小长度"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:20},model:{value:t.passForm.passMin,callback:function(s){t.$set(t.passForm,"passMin",s)},expression:"passForm.passMin"}})],1),e("el-form-item",{attrs:{label:"密码中至少包含大写字母数"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:20},model:{value:t.passForm.passUpper,callback:function(s){t.$set(t.passForm,"passUpper",s)},expression:"passForm.passUpper"}})],1),e("el-form-item",{attrs:{label:"密码中至少包含特殊字符个数"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:20},model:{value:t.passForm.passSpecial,callback:function(s){t.$set(t.passForm,"passSpecial",s)},expression:"passForm.passSpecial"}})],1),e("el-form-item",{attrs:{label:"密码过期时间"}},[e("el-radio",{attrs:{label:"0"},model:{value:t.passForm.passOverdue,callback:function(s){t.$set(t.passForm,"passOverdue",s)},expression:"passForm.passOverdue"}},[t._v(" 设置天数 ")]),e("el-radio",{attrs:{label:"1"},model:{value:t.passForm.passOverdue,callback:function(s){t.$set(t.passForm,"passOverdue",s)},expression:"passForm.passOverdue"}},[t._v(" 不限制 ")]),e("el-input-number",{directives:[{name:"show",rawName:"v-show",value:0==t.passForm.passOverdue,expression:"passForm.passOverdue == 0"}],attrs:{"controls-position":"right",min:1,max:1e3},model:{value:t.passForm.passDay,callback:function(s){t.$set(t.passForm,"passDay",s)},expression:"passForm.passDay"}})],1)],1)],1),e("div",{staticClass:"btnBox"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.savePass}},[t._v(" 保存 ")])],1)]):t._e(),"loginStrategy"==t.menu?e("div",{staticClass:"login showItem"},[e("div",{staticClass:"contentBox"},[e("el-form",{attrs:{size:"small","label-width":"170px","label-position":"left"}},[e("el-form-item",[e("span",{staticStyle:{color:"#228be6","font-size":"16px"},attrs:{slot:"label"},slot:"label"},[t._v(" 登录策略 ")]),e("el-switch",{attrs:{"active-color":"#228be6","inactive-color":"#adb5bd"},model:{value:t.loginForm.passStrategy,callback:function(s){t.$set(t.loginForm,"passStrategy",s)},expression:"loginForm.passStrategy"}})],1),e("el-form-item",{attrs:{label:"密码错误锁定次数"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:20},model:{value:t.loginForm.lockNum,callback:function(s){t.$set(t.loginForm,"lockNum",s)},expression:"loginForm.lockNum"}}),e("span",{staticClass:"unit"},[t._v("单位：次")])],1),e("el-form-item",{attrs:{label:"密码错误锁定时间"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:20},model:{value:t.loginForm.lockTime,callback:function(s){t.$set(t.loginForm,"lockTime",s)},expression:"loginForm.lockTime"}}),e("span",{staticClass:"unit"},[t._v("单位：小时")])],1),e("el-form-item",{attrs:{label:"非活跃用户自动登出时间"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:20},model:{value:t.loginForm.logoutTime,callback:function(s){t.$set(t.loginForm,"logoutTime",s)},expression:"loginForm.logoutTime"}}),e("span",{staticClass:"unit"},[t._v("单位：分钟")])],1)],1)],1),e("div",{staticClass:"btnBox"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveLogin}},[t._v(" 保存 ")])],1)]):t._e(),"limitStrategy"==t.menu?e("div",{staticClass:"limit showItem"},[e("div",{staticClass:"contentBox"},[e("div",{staticClass:"limitStrategy"},[e("span",{staticStyle:{color:"#228be6","font-size":"16px","margin-right":"30px"}},[t._v(" 登录限制策略 ")]),e("el-switch",{attrs:{"active-color":"#228be6","inactive-color":"#adb5bd"},model:{value:t.limitForm.isOpen,callback:function(s){t.$set(t.limitForm,"isOpen",s)},expression:"limitForm.isOpen"}})],1),e("div",{staticClass:"limitTitle"},[t._v(" 黑名单 "),e("span",{staticClass:"limitTips"},[t._v("（无权登录文档管理系统的用户/用户组）")])]),e("el-input",{staticStyle:{width:"365px","margin-right":"12px"},attrs:{size:"small",clearable:"",placeholder:"请输入添加到黑名单的用户或用户组名称"},model:{value:t.limitStr,callback:function(s){t.limitStr=s},expression:"limitStr"}}),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.addBlacklist(t.limitStr)}}},[t._v(" 添加 ")]),e("div",{staticClass:"limitListTitle"},[t._v(" 当前已设置的黑名单用户和用户组列表 "),e("span",{staticClass:"limitListTips"},[t._v(" （ "),e("span",{staticClass:"limitListUser"},[e("i",{staticClass:"iconfont icon-yonghutianchong"}),t._v(" 用户 ")]),e("span",{staticClass:"limitListUserGroup"},[e("i",{staticClass:"iconfont icon-huaban"}),t._v(" 用户组 ")]),t._v(" ） ")])]),e("div",{staticClass:"limitListBox"},[e("div",{staticClass:"limitList"},[e("el-checkbox-group",{model:{value:t.limitDelList,callback:function(s){t.limitDelList=s},expression:"limitDelList"}},t._l(t.limitForm.userList,(function(s){return e("el-checkbox",{key:s.userId,attrs:{label:s.userId}},[e("div",{staticClass:"checkBox"},[e("span",[s.isUserGroup?e("i",{staticClass:"iconfont icon-huaban"}):e("i",{staticClass:"iconfont icon-yonghutianchong"})]),t._v(" "+t._s(s.userId)+" ")])])})),1)],1),e("div",{staticClass:"delBtn"},[e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){return t.delBlacklist(t.limitDelList)}}},[t._v(" 删除 ")])],1)])],1),e("div",{staticClass:"btnBox"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveLimit}},[t._v(" 保存 ")])],1)]):t._e()])],1)},a=[],l=(e("4de4"),e("d3b7"),e("75ba")),n=e("dcb3"),o={name:"securityStrategy",components:{pageFrame:l["a"],miniMenu:n["a"]},data:function(){return{menu:"limitStrategy",menuList:[{label:"密码策略",value:"passwordPolicy"},{label:"登录策略",value:"loginStrategy"},{label:"登录限制策略",value:"limitStrategy"}],passForm:{passStrategy:!1,passMin:0,passUpper:0,passSpecial:0,passOverdue:"0",passDay:0},loginForm:{loginStrategy:!1,lockNum:0,lockTime:0,logoutTime:0},limitStr:"",limitDelList:[],limitForm:{isOpen:!1,userList:[]}}},watch:{menu:{immediate:!0,handler:function(t){var s=this;"limitStrategy"==t&&this.$http("getLoginStrategy").then((function(t){s.limitForm=t.data}))}}},methods:{savePass:function(){this.$message.success("保存成功")},saveLogin:function(){this.$message.success("保存成功")},saveLimit:function(){var t=this;this.$http("setLoginStrategy",this.limitForm).then((function(s){t.$message.success(s.errMsg)}))},addBlacklist:function(t){var s=this;t&&this.$http("checkUserIsGroup",{userId:t}).then((function(e){e.data&&3!=e.data?s.limitForm.userList.push({userId:t,isUserGroup:1!=e.data}):s.$message.warning("该用户不存在")}))},delBlacklist:function(t){if(console.log(t),t&&t.length>0){var s=this.limitForm.userList.filter((function(s){return t.indexOf(s.userId)<0}));this.limitForm.userList=s}}}},r=o,c=(e("ae8a"),e("2877")),m=Object(c["a"])(r,i,a,!1,null,"6b54c40c",null);s["default"]=m.exports},"75ba":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"pageBox"},[e("el-header",{staticStyle:{height:"25px","line-height":"25px"}},[e("i",{class:"iconfont icon-"+t.icon}),e("span",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"headBtn"},[t._t("headBtn")],2)]),e("el-divider"),e("el-container",[t.aside?e("el-aside",{staticStyle:{"border-right":"0.5px solid #d9d9d9"},attrs:{width:t.asideWidth||"185px"}},[t._t("aside")],2):t._e(),e("el-main",[t._t("default")],2)],1)],1)},a=[],l={name:"pageFrame",props:["aside","title","icon","asideWidth"],data:function(){return{}},created:function(){},methods:{}},n=l,o=(e("1293"),e("2877")),r=Object(o["a"])(n,i,a,!1,null,"4bf95040",null);s["a"]=r.exports},ae8a:function(t,s,e){"use strict";e("0c88")},d3fc:function(t,s,e){"use strict";e("d4c6")},d4c6:function(t,s,e){},dcb3:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"miniMenu"},[e("div",{staticClass:"menuGroup"},t._l(t.options,(function(s){return e("div",{key:s.value,staticClass:"menuItem",on:{click:function(e){!s.children&&t.clickMenu(s.value)}}},[e("div",{staticClass:"menuBox",class:{checked:s.value==t.checked}},[e("i",{class:"iconfont icon-"+s.value}),e("span",{staticClass:"name"},[t._v(t._s(s.label))])]),s.children&&s.children.length>0?e("div",{staticClass:"children"},t._l(s.children,(function(i){return e("ul",{key:i.value,on:{click:function(e){return t.test(i.value,s.value)}}},[e("li",{class:{liChecked:i.value==t.children}},[t._v(" "+t._s(i.label)+" ")])])})),0):t._e()])})),0)])},a=[],l={name:"minMenu",props:{options:Array,value:String},data:function(){return{temp:"",menuList:[]}},computed:{checked:{get:function(){return this.value},set:function(t){return t}},children:{get:function(){return this.value},set:function(t){return t}}},model:{prop:"value",event:"update"},created:function(){},methods:{clickMenu:function(t){this.checked=t,this.$emit("update",t),console.log("clickMenu",t)},test:function(t,s){this.children=t,this.checked=s,this.$emit("update",t),console.log(t,s,this.checked)}}},n=l,o=(e("d3fc"),e("2877")),r=Object(o["a"])(n,i,a,!1,null,"64424708",null);s["a"]=r.exports},f2d1:function(t,s,e){}}]);