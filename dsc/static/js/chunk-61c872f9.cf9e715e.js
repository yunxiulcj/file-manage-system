(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61c872f9"],{1293:function(e,t,i){"use strict";i("f2d1")},"64cb":function(e,t,i){},"75ba":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pageBox"},[i("el-header",{staticStyle:{height:"25px","line-height":"25px"}},[i("i",{class:"iconfont icon-"+e.icon}),i("span",{staticClass:"title"},[e._v(e._s(e.title))]),i("div",{staticClass:"headBtn"},[e._t("headBtn")],2)]),i("el-divider"),i("el-container",[e.aside?i("el-aside",{staticStyle:{"border-right":"0.5px solid #d9d9d9"},attrs:{width:e.asideWidth||"185px"}},[e._t("aside")],2):e._e(),i("el-main",[e._t("default")],2)],1)],1)},n=[],s={name:"pageFrame",props:["aside","title","icon","asideWidth"],data:function(){return{}},created:function(){},methods:{}},l=s,o=(i("1293"),i("2877")),c=Object(o["a"])(l,a,n,!1,null,"4bf95040",null);t["a"]=c.exports},a434:function(e,t,i){"use strict";var a=i("23e7"),n=i("da84"),s=i("23cb"),l=i("5926"),o=i("07fa"),c=i("7b0b"),r=i("65f0"),u=i("8418"),d=i("1dde"),p=d("splice"),f=n.TypeError,m=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var i,a,n,d,p,y,g=c(this),x=o(g),k=s(e,x),C=arguments.length;if(0===C?i=a=0:1===C?(i=0,a=x-k):(i=C-2,a=h(m(l(t),0),x-k)),x+i-a>v)throw f(b);for(n=r(g,a),d=0;d<a;d++)p=k+d,p in g&&u(n,d,g[p]);if(n.length=a,i<a){for(d=k;d<x-a;d++)p=d+a,y=d+i,p in g?g[y]=g[p]:delete g[y];for(d=x;d>x-a+i;d--)delete g[d-1]}else if(i>a)for(d=x-a;d>k;d--)p=d+a-1,y=d+i-1,p in g?g[y]=g[p]:delete g[y];for(d=0;d<i;d++)g[d+k]=arguments[d+2];return g.length=x-a+i,n}})},b6d0:function(e,t,i){"use strict";i("64cb")},d3fc:function(e,t,i){"use strict";i("d4c6")},d4c6:function(e,t,i){},dcb3:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"miniMenu"},[i("div",{staticClass:"menuGroup"},e._l(e.options,(function(t){return i("div",{key:t.value,staticClass:"menuItem",on:{click:function(i){!t.children&&e.clickMenu(t.value)}}},[i("div",{staticClass:"menuBox",class:{checked:t.value==e.checked}},[i("i",{class:"iconfont icon-"+t.value}),i("span",{staticClass:"name"},[e._v(e._s(t.label))])]),t.children&&t.children.length>0?i("div",{staticClass:"children"},e._l(t.children,(function(a){return i("ul",{key:a.value,on:{click:function(i){return e.test(a.value,t.value)}}},[i("li",{class:{liChecked:a.value==e.children}},[e._v(" "+e._s(a.label)+" ")])])})),0):e._e()])})),0)])},n=[],s={name:"minMenu",props:{options:Array,value:String},data:function(){return{temp:"",menuList:[]}},computed:{checked:{get:function(){return this.value},set:function(e){return e}},children:{get:function(){return this.value},set:function(e){return e}}},model:{prop:"value",event:"update"},created:function(){},methods:{clickMenu:function(e){this.checked=e,this.$emit("update",e),console.log("clickMenu",e)},test:function(e,t){this.children=e,this.checked=t,this.$emit("update",e),console.log(e,t,this.checked)}}},l=s,o=(i("d3fc"),i("2877")),c=Object(o["a"])(l,a,n,!1,null,"64424708",null);t["a"]=c.exports},f2d1:function(e,t,i){},fcad:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box"},[i("page-frame",{attrs:{title:"网盘管理",icon:"cloudManage",aside:!0},scopedSlots:e._u([{key:"aside",fn:function(){return[i("mini-menu",{attrs:{options:e.menuList},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}})]},proxy:!0}])},["file"==e.menu?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"file"},[i("div",{staticClass:"uploadBox fileBox"},[i("span",{staticClass:"title"},[e._v("上传文件限制")]),i("el-switch",{staticStyle:{"margin-bottom":"2px","margin-left":"20px"},attrs:{"active-color":"#228be6","inactive-color":"#adb5bd"},model:{value:e.formObj.enableUploadFileSize,callback:function(t){e.$set(e.formObj,"enableUploadFileSize",t)},expression:"formObj.enableUploadFileSize"}}),i("div",{staticClass:"contentBox"},[i("div",{staticClass:"subtitle"},[e._v("设置单个文件上传的大小上限")]),i("div",{staticClass:"count"},[i("el-input-number",{attrs:{min:1,size:"small"},model:{value:e.formObj.uploadFileSize,callback:function(t){e.$set(e.formObj,"uploadFileSize",t)},expression:"formObj.uploadFileSize"}}),i("span",{staticClass:"unit"},[e._v("单位：MB")])],1)])],1),i("div",{staticClass:"typeBox fileBox"},[i("div",{staticClass:"title"},[e._v("文件类型限制")]),i("div",{staticClass:"contentBox"},[i("div",{staticClass:"subtitle"},[e._v("设置一般用户可操作的文件类型")]),i("div",{staticClass:"type"},[e.formObj.operationFileType?i("el-checkbox-group",{model:{value:e.formObj.operationFileType,callback:function(t){e.$set(e.formObj,"operationFileType",t)},expression:"formObj.operationFileType"}},[e._l(e.fileTypeList,(function(t,a){return i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t,expression:"item"}],key:t,staticStyle:{margin:"10px 10px 0px 0px"},attrs:{label:t,size:"mini",border:""}},[e._v(" "+e._s(t)+" "),i("el-divider",{attrs:{direction:"vertical"}}),i("i",{staticClass:"el-icon-close",on:{click:function(t){return t.stopPropagation(),e.delType(a)}}})],1)})),i("div",{staticClass:"addType"},[e.isInput?i("div",{staticClass:"input"},[i("el-input",{ref:"inputType",staticStyle:{width:"100px"},attrs:{size:"mini",clearable:""},on:{blur:function(t){return e.addType(e.typeStr,2)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addType(e.typeStr,1)}},model:{value:e.typeStr,callback:function(t){e.typeStr=t},expression:"typeStr"}})],1):i("div",{staticClass:"btn",on:{click:e.clickAdd}},[i("i",{staticClass:"el-icon-plus"}),e._v(" 添加类型 ")])])],2):e._e()],1)])]),i("div",{staticClass:"downloadBox fileBox"},[i("div",{staticClass:"title"},[e._v("文件下载设置")]),i("div",{staticClass:"contentBox1"},[i("div",{staticClass:"setting1 setting"},[i("el-checkbox",{staticStyle:{width:"306px"},attrs:{label:"文件下载申请默认下载次数上限"},model:{value:e.formObj.enableDownLoadCount,callback:function(t){e.$set(e.formObj,"enableDownLoadCount",t)},expression:"formObj.enableDownLoadCount"}}),i("span",[i("el-input-number",{attrs:{min:1,size:"mini"},model:{value:e.formObj.defaultDownLoadCount,callback:function(t){e.$set(e.formObj,"defaultDownLoadCount",t)},expression:"formObj.defaultDownLoadCount"}}),i("span",{staticClass:"unit"},[e._v("单位：次")])],1)],1),i("div",{staticClass:"setting2 setting"},[i("el-checkbox",{staticStyle:{width:"245px"},attrs:{label:"默认下载申请有效期上限设置"},model:{value:e.formObj.enableDownLoadDay,callback:function(t){e.$set(e.formObj,"enableDownLoadDay",t)},expression:"formObj.enableDownLoadDay"}}),i("span",{staticClass:"unit"},[e._v(" 审批后 "),i("el-input-number",{attrs:{min:1,size:"mini"},model:{value:e.formObj.defaultDownLoadDay,callback:function(t){e.$set(e.formObj,"defaultDownLoadDay",t)},expression:"formObj.defaultDownLoadDay"}}),e._v(" 天内有效 ")],1)],1)])]),i("div",{staticClass:"operate"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.saveFileSetting(e.formObj)}}},[e._v(" 保存 ")])],1)]):e._e(),"cloud"==e.menu?i("div",{staticClass:"cloud"},[i("div",{staticClass:"cloudPath fileBox"},[i("div",{staticClass:"title"},[e._v("网盘路径设置")]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"contentBox"},[i("el-form",{attrs:{"label-width":"100px","label-position":"right",size:"small"}},[i("el-form-item",{attrs:{label:"网盘根路径"}},[i("el-input",{staticStyle:{width:"450px"},attrs:{placeholder:"请输入网盘根路径，示例：\\\\yxcloud-DFS01\\"},model:{value:e.formObj.diskRootPath,callback:function(t){e.$set(e.formObj,"diskRootPath",t)},expression:"formObj.diskRootPath"}})],1)],1)],1)]),i("div",{staticClass:"operate"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.savePath(e.formObj)}}},[e._v(" 保存 ")])],1)]):e._e()])],1)},n=[],s=(i("d3b7"),i("4de4"),i("a434"),i("75ba")),l=i("dcb3"),o=i("b8f0"),c={name:"cloudManage",components:{pageFrame:s["a"],miniMenu:l["a"]},data:function(){return{isOpen:!1,menu:"file",menuList:[{label:"文件设置",value:"file"},{label:"网盘路径设置",value:"cloud"}],typeStr:"",formObj:{uploadFileSize:1,operationFileType:[],enableDownLoadCount:!1,enableDownLoadDay:!1,enableUploadFileSize:!1,defaultDownLoadCount:1,defaultDownLoadDay:1,diskRootPath:""},fileTypeList:[],isInput:!1,loading:!1}},watch:{menu:{handler:function(e){var t="file"==e?1:2;this.getData(t)},immediate:!0}},methods:{getData:function(e){var t=this;this.loading=!0,this.$http("getSetting",{settingId:e}).then((function(e){var i=e.data;i.operationFileType&&(t.fileTypeList=Object(o["a"])(i.operationFileType)),i.operationFileType=i.operationFileType?i.operationFileType:[],t.formObj=i})).finally((function(){t.loading=!1}))},saveFileSetting:function(e){var t=this;this.$http("fileSetting",e).then((function(e){t.$message.success(e.errMsg)}))},savePath:function(e){var t=this;this.$http("diskPathSetting",{diskRootPath:e.diskRootPath}).then((function(e){t.$message.success(e.errMsg)}))},clickAdd:function(){var e=this;this.isInput=!this.isInput,this.$nextTick((function(){e.$refs["inputType"].focus()}))},addType:function(e,t){if(e){var i=this.fileTypeList.filter((function(t){return t.toLowerCase()==e.toLowerCase()}));0==i.length?(this.fileTypeList.push(e),this.formObj.operationFileType.push(e)):this.$message.info("已存在该类型")}this.typeStr="",1==t?this.$refs["inputType"].focus():(this.$refs["inputType"].blur(),this.isInput=!this.isInput)},delType:function(e){var t=this;this.formObj.operationFileType=this.formObj.operationFileType.filter((function(i){return i!=t.fileTypeList[e]})),this.fileTypeList.splice(e,1)}}},r=c,u=(i("b6d0"),i("2877")),d=Object(u["a"])(r,a,n,!1,null,"27d01653",null);t["default"]=d.exports}}]);